
Animal (class with has_types :pony)
- should load subclasses on #new
- should be cleaned up after outstanding dependencies loaded
- #descends_from_active_record? should work

has_types
- should load subclasses when any descendent loaded, and have correct SQL on #find

class Mansion < FixedDwelling; end (where :mansion is not in Dwelling.has_types)
- should raise NameError

class Pony < Animal; has_types :my_little; end
- should raise error (can only specify has_types on STI base class)

Finished in 0.097356 seconds

6 examples, 0 failures
